<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" >

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>用户设置</title>
    <link rel="stylesheet" href="/css/layui.css" th:href="@{/css/layui.css}" media="all">
    <!--<link rel="stylesheet" type="text/css" href="/css/iconfont.css" th:href="@{/css/iconfont.css}">-->
    <link rel="stylesheet" href="/layui/css/layui.css" th:href="@{/layui/css/layui.css}">


    <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" type="text/css" href="/css/utlis.css" th:href="@{/css/utlis.css}">
    <link rel="stylesheet" type="text/css" href="/css/bootstrap-treeview.css" th:href="@{/css/bootstrap-treeview.css}">
    <script type="text/javascript" src="/js/jquery-2.1.1.js" th:src="@{/js/jquery-2.1.1.js}"> </script>
    <script type="text/javascript" src="/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
    <script type="text/javascript" src="/js/bootstrap-treeview.js" th:src="@{/js/bootstrap-treeview.js}"></script>


    <style type="text/css">
        .treeSelect .layui-select-title span {
            line-height: 38px;
        }
        .layui-form-select dl{padding:0;}

        .inputdiv{
            display:flex;
            border: 1px solid #D2D2D2!important;
            background-color: #fff;
            height: 38px;
            line-height: 38px;
            /*padding: 0px 15px;*/
            padding: 0px 10px;
            border-radius: 19px;
        }

    cite{
        font-size: 16px;
        color: #000;
    }

    </style>


</head>

<body class="content">
<div>
    <div>
        <div class="tab-content" style="">

            <div class="tab-pane fade in active" id="grid" style="padding:0px 20px 20px 20px;">
                <div class="bootstrap-table bootstrap3">
                    <div class="fixed-table-toolbar"><div class="bs-bars pull-left">
                        <div style="margin:15px;">

                            <button class="layui-btn layui-btn-radius layui-btn-primary" style="width:150px;">
                                <!--<i class="layui-icon layui-icon-addition"></i>-->
                                <span class="glyphicon glyphicon-plus" style="font-size:20px;"></span>
                                添加</button>

                        </div>
                    </div></div>

                    <div class="fixed-table-container fixed-height" style="height: 400px; padding-bottom: 37px;">
                        <div class="fixed-table-header" style="margin-right: 0px;"></div>
                        <div class="fixed-table-body">

                            <table id="table" class="table table-striped table-bordered table-hover" style="margin-top: -36px;"><thead class=""><tr><th style="" data-field="u_type"><div class="th-inner ">用户类型</div><div class="fht-cell"></div></th><th style="" data-field="u_name"><div class="th-inner ">用户名</div><div class="fht-cell"></div></th><th style="" data-field="u_pass"><div class="th-inner ">密码</div><div class="fht-cell"></div></th><th style="" data-field="u_root"><div class="th-inner ">用户权限</div><div class="fht-cell"></div></th><th style="text-align: center; vertical-align: middle; width: 220px; " data-field="-1"><div class="th-inner ">操作</div><div class="fht-cell"></div></th></tr></thead><tbody><tr data-index="0"><td>超级管理员</td><td>admin</td><td>admin</td><td>所有权限</td><td style="text-align: center; vertical-align: middle; width: 220px; "><a class="btn btn-default  btn-xs" data-toggle="modal" data-target="#myModal" onclick="edit_func({&quot;u_id&quot;:&quot;1&quot;,&quot;u_name&quot;:&quot;admin&quot;,&quot;u_pass&quot;:&quot;admin&quot;,&quot;u_type&quot;:&quot;超级管理员&quot;,&quot;param_on_off&quot;:0})"><span class="glyphicon glyphicon-pencil"></span>编辑</a></td></tr><tr data-index="1"><td>管理员</td><td>xin</td><td>123</td><td>单击单元格查看权限</td><td style="text-align: center; vertical-align: middle; width: 220px; "><a class="btn btn-default  btn-xs" data-toggle="modal" data-target="#myModal" onclick="edit_func({&quot;u_id&quot;:&quot;10cf964017994531a2373d54633bddd7&quot;,&quot;u_name&quot;:&quot;jhyt&quot;,&quot;u_pass&quot;:&quot;jhyt&quot;,&quot;u_type&quot;:&quot;管理员&quot;,&quot;param_on_off&quot;:0})"><span class="glyphicon glyphicon-pencil"></span>编辑</a></td></tr><tr data-index="2"><td>管理员</td><td>xin</td><td>123</td><td>单击单元格查看权限</td><td style="text-align: center; vertical-align: middle; width: 220px; "><a class="btn btn-default  btn-xs" data-toggle="modal" data-target="#myModal" onclick="edit_func({&quot;u_id&quot;:&quot;9dddfa7d04d245e2a1ad4a675bd67f0a&quot;,&quot;u_name&quot;:&quot;焦石&quot;,&quot;u_pass&quot;:&quot;123456&quot;,&quot;u_type&quot;:&quot;管理员&quot;,&quot;param_on_off&quot;:1})"><span class="glyphicon glyphicon-pencil"></span>编辑</a></td></tr><tr data-index="3"><td>管理员</td><td>xin</td><td>123</td><td>单击单元格查看权限</td><td style="text-align: center; vertical-align: middle; width: 220px; "><a class="btn btn-default  btn-xs" data-toggle="modal" data-target="#myModal" onclick="edit_func({&quot;u_id&quot;:&quot;a7cde1a7926f43169412096543ed9eef&quot;,&quot;u_name&quot;:&quot;jhzj&quot;,&quot;u_pass&quot;:&quot;123456&quot;,&quot;u_type&quot;:&quot;管理员&quot;,&quot;param_on_off&quot;:1})"><span class="glyphicon glyphicon-pencil"></span>编辑</a></td></tr><tr data-index="4"><td>管理员</td><td>xin</td><td>123</td><td>单击单元格查看权限</td><td style="text-align: center; vertical-align: middle; width: 220px; "><a class="btn btn-default  btn-xs" data-toggle="modal" data-target="#myModal" onclick="edit_func({&quot;u_id&quot;:&quot;c93ec97639294eb4bc643b4679abe64f&quot;,&quot;u_name&quot;:&quot;test&quot;,&quot;u_pass&quot;:&quot;test&quot;,&quot;u_type&quot;:&quot;管理员&quot;,&quot;param_on_off&quot;:1})"><span class="glyphicon glyphicon-pencil"></span>编辑</a></td></tr></tbody></table><div class="fixed-table-border" style="width: 1090px; height: 240.8px;"></div></div>
                        <div class="fixed-table-footer" style="display: none;"><table><thead><tr></tr></thead></table></div>
                    </div>
                    <div class="fixed-table-pagination" style="display: block;"><div class="pull-left pagination-detail"><span class="pagination-info">
      显示第 1 到第 5 条记录，总共 6 条记录
      </span><span class="page-list">每页显示<span class="btn-group dropdown dropup">
        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
        <span class="page-size">
        5
        </span>
        <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
            <li role="menuitem" class="active">
                <a href="#">5</a>
            </li>
            <li role="menuitem" class="">
                <a href="#">10</a>
            </li>
        </ul></span> 条记录</span></div><div  class="pull-right pagination">
                        <ul class="pagination">
                            <li class="page-item page-pre"><a class="page-link" aria-label="previous page" href="javascript:void(0)">‹</a></li><li class="page-item active"><a class="page-link" aria-label="to page 1" href="javascript:void(0)">1</a></li><li class="page-item"><a class="page-link" aria-label="to page 2" href="javascript:void(0)">2</a></li><li class="page-item page-next"><a class="page-link" aria-label="next page" href="javascript:void(0)">›</a></li></ul></div></div>
                </div><div class="clearfix"></div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="/layui/layui.js" th:src="@{/layui/layui.js}"></script>
<script type="text/javascript">
    layui.config({
        base: '/layui/' //静态资源所在路径
    }).extend({
        mytree: 'lay/modules/mytree'
    });
    layui.use(['layer', 'mytree', 'form'], function () {
        var $ = layui.jquery,
            layer = layui.layer,
            form = layui.form,
            mytree = layui.mytree;
        mytree({
            elem: "#classtree", //指定元素
            nodes: [ //节点
                {
                    name: '胜利油田',
                    spread: true,
                    // color: "#ffcdda",
                    id: 1,
                    children: [{
                        name: '河口采油厂',
                        id: 11,
                        href: '#',
                        children: [{
                            name: '管理一区',
                            id: 111,
                        },{
                            name: '管理六区',
                            id: 112
                        },{
                            name: '管理七区',
                            id: 113
                        },{
                            name: '管理九区',
                            id: 114
                        }]
                         },
                        {
                        name: '孤东采油厂',
                        id: 12,
                        children: [{
                            name: '管理一区',
                            id: 121,
                        },{
                            name: '管理二区',
                            id: 122
                        },{
                            name: '管理三区',
                            id: 123
                        },{
                            name: '管理四区',
                            id: 124
                        }]
                         },
                        {
                            name: '桩西采油厂',
                            id: 13,
                            children: [{
                                name: '管理一区',
                                id: 131,
                            },{
                                name: '管理二区',
                                id: 132
                            },{
                                name: '管理三区',
                                id: 133
                            },{
                                name: '管理四区',
                                id: 134
                            }]
                        },
                        {
                            name: '纯梁采油厂',
                            id: 14,
                            children: [{
                                name: '梁北管理区',
                                id: 141
                            }]
                        },
                        {
                            name: '东辛采油厂',
                            id: 15,
                            children: [{
                                name: '营一管理区',
                                id: 151
                            }]
                        },
                        {
                            name: '现河采油厂',
                            id: 16,
                            children: [{
                                name: '现河庄管理区',
                                id: 161
                            },{
                                name: '史南管理区',
                                id: 162
                            }]
                        }
                ]}, {
                    name: '川渝油田',
                    spread: false,
                    id: 2,
                    children: [{
                        name: '1区',
                        id: 21,
                        spread: true
                    }]
                },
                {
                    name: '井筒泥浆液面高度',
                    id: 3,
                    spread: true,
                    children: [{
                        name: '50140',
                        id: 31,
                        children: [{
                            name: '建页1',
                            id: 311
                        }]
                    }, {
                        name: '50143',
                        id: 32,
                        children: [{
                            name: '焦页5',
                            id: 321
                        }]
                    },{
                        name: '70231',
                        id: 33
                    }]
                },{
                    name: '回声仪导入',
                    id: 4,
                    spread: true

                },{
                    name: '江汉油田',
                    id: 5,
                    spread: true,
                    children: [{
                        name: '总口区',
                        id: 51
                    }]
                }
            ],
            click: function(node) { //点击节点回调
                var $select = $($(this)[0].elem).parents(".layui-form-select");
                $select.removeClass("layui-form-selected").find(".layui-select-title span").html(node.name).end().find("input:hidden[name='selectID']").val(node.id);

                var selectId = $("input[name='selectID']").val();
                layer.msg("选择了id="+selectId+"的数据", {
                    icon: 1,
                    time: 5000,
                    offset: '15px'
                });
            }
        });

        // 默认选中
        var checkNode = {
            id: 12,
            name: '子公司管理员'
        }
        var $select = $(".layui-form-select");
        $select.removeClass("layui-form-selected").find(".layui-select-title span").html(checkNode.name).end().find("input:hidden[name='selectID']").val(checkNode.id);
        form.render();


        $(".treeSelect").on("click", ".layui-select-title", function(e) {
            $(".layui-form-select").not($(this).parents(".layui-form-select")).removeClass("layui-form-selected");
            $(this).parents(".treeSelect").toggleClass("layui-form-selected");
            layui.stope(e);
        }).on("click", "dl i", function(e) {
            layui.stope(e);
        });
        $(document).on("click", function(e) {
            $(".layui-form-select").removeClass("layui-form-selected");
        });

    });
</script>

</html>